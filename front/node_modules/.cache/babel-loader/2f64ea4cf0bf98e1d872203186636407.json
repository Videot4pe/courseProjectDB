{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.ROUND_ROBIN_STRATEGY_NAME = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _roundRobinArrayIndex = _interopRequireDefault(require(\"./round-robin-array-index\"));\n\nvar _loadBalancingStrategy = _interopRequireDefault(require(\"./load-balancing-strategy\"));\n/**\n * Copyright (c) 2002-2019 \"Neo4j,\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar ROUND_ROBIN_STRATEGY_NAME = 'round_robin';\nexports.ROUND_ROBIN_STRATEGY_NAME = ROUND_ROBIN_STRATEGY_NAME;\n\nvar RoundRobinLoadBalancingStrategy =\n/*#__PURE__*/\nfunction (_LoadBalancingStrateg) {\n  (0, _inherits2[\"default\"])(RoundRobinLoadBalancingStrategy, _LoadBalancingStrateg);\n\n  function RoundRobinLoadBalancingStrategy() {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, RoundRobinLoadBalancingStrategy);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(RoundRobinLoadBalancingStrategy).call(this));\n    _this._readersIndex = new _roundRobinArrayIndex[\"default\"]();\n    _this._writersIndex = new _roundRobinArrayIndex[\"default\"]();\n    return _this;\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  (0, _createClass2[\"default\"])(RoundRobinLoadBalancingStrategy, [{\n    key: \"selectReader\",\n    value: function selectReader(knownReaders) {\n      return this._select(knownReaders, this._readersIndex);\n    }\n    /**\n     * @inheritDoc\n     */\n\n  }, {\n    key: \"selectWriter\",\n    value: function selectWriter(knownWriters) {\n      return this._select(knownWriters, this._writersIndex);\n    }\n  }, {\n    key: \"_select\",\n    value: function _select(addresses, roundRobinIndex) {\n      var length = addresses.length;\n\n      if (length === 0) {\n        return null;\n      }\n\n      var index = roundRobinIndex.next(length);\n      return addresses[index];\n    }\n  }]);\n  return RoundRobinLoadBalancingStrategy;\n}(_loadBalancingStrategy[\"default\"]);\n\nexports[\"default\"] = RoundRobinLoadBalancingStrategy;","map":null,"metadata":{},"sourceType":"script"}