{"ast":null,"code":"var _regeneratorRuntime = require(\"/Users/garanya/Desktop/dbcourse/courseProjectDB/front/node_modules/@babel/runtime/regenerator\");\n\n!function (e, r) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = r(require(\"neo4j-driver\"), require(\"vis/dist/vis-network.min\"), require(\"core-js/modules/es.symbol\"), require(\"core-js/modules/es.symbol.description\"), require(\"core-js/modules/es.symbol.iterator\"), require(\"core-js/modules/es.array.iterator\"), require(\"core-js/modules/es.object.define-property\"), require(\"core-js/modules/es.object.to-string\"), require(\"core-js/modules/es.string.iterator\"), require(\"core-js/modules/web.dom-collections.iterator\"), require(\"core-js/modules/es.array.concat\"), require(\"core-js/modules/es.array.for-each\"), require(\"core-js/modules/es.array.map\"), require(\"core-js/modules/es.function.name\"), require(\"core-js/modules/es.object.values\"), require(\"core-js/modules/es.promise\"), require(\"core-js/modules/web.dom-collections.for-each\"), require(\"core-js/modules/web.timers\"), require(\"regenerator-runtime/runtime\"), require(\"vis/dist/vis-network.min.css\")) : \"function\" == typeof define && define.amd ? define([\"neo4j-driver\", \"vis/dist/vis-network.min\", \"core-js/modules/es.symbol\", \"core-js/modules/es.symbol.description\", \"core-js/modules/es.symbol.iterator\", \"core-js/modules/es.array.iterator\", \"core-js/modules/es.object.define-property\", \"core-js/modules/es.object.to-string\", \"core-js/modules/es.string.iterator\", \"core-js/modules/web.dom-collections.iterator\", \"core-js/modules/es.array.concat\", \"core-js/modules/es.array.for-each\", \"core-js/modules/es.array.map\", \"core-js/modules/es.function.name\", \"core-js/modules/es.object.values\", \"core-js/modules/es.promise\", \"core-js/modules/web.dom-collections.for-each\", \"core-js/modules/web.timers\", \"regenerator-runtime/runtime\", \"vis/dist/vis-network.min.css\"], r) : \"object\" == typeof exports ? exports.NeoVis = r(require(\"neo4j-driver\"), require(\"vis/dist/vis-network.min\"), require(\"core-js/modules/es.symbol\"), require(\"core-js/modules/es.symbol.description\"), require(\"core-js/modules/es.symbol.iterator\"), require(\"core-js/modules/es.array.iterator\"), require(\"core-js/modules/es.object.define-property\"), require(\"core-js/modules/es.object.to-string\"), require(\"core-js/modules/es.string.iterator\"), require(\"core-js/modules/web.dom-collections.iterator\"), require(\"core-js/modules/es.array.concat\"), require(\"core-js/modules/es.array.for-each\"), require(\"core-js/modules/es.array.map\"), require(\"core-js/modules/es.function.name\"), require(\"core-js/modules/es.object.values\"), require(\"core-js/modules/es.promise\"), require(\"core-js/modules/web.dom-collections.for-each\"), require(\"core-js/modules/web.timers\"), require(\"regenerator-runtime/runtime\"), require(\"vis/dist/vis-network.min.css\")) : e.NeoVis = r(e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0], e[void 0]);\n}(window, function (e, r, t, o, n, s, i, a, c, u, l, d, f, p, m, v, b, h, y, g) {\n  return function (e) {\n    var r = {};\n\n    function t(o) {\n      if (r[o]) return r[o].exports;\n      var n = r[o] = {\n        i: o,\n        l: !1,\n        exports: {}\n      };\n      return e[o].call(n.exports, n, n.exports, t), n.l = !0, n.exports;\n    }\n\n    return t.m = e, t.c = r, t.d = function (e, r, o) {\n      t.o(e, r) || Object.defineProperty(e, r, {\n        enumerable: !0,\n        get: o\n      });\n    }, t.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, t.t = function (e, r) {\n      if (1 & r && (e = t(e)), 8 & r) return e;\n      if (4 & r && \"object\" == typeof e && e && e.__esModule) return e;\n      var o = Object.create(null);\n      if (t.r(o), Object.defineProperty(o, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & r && \"string\" != typeof e) for (var n in e) t.d(o, n, function (r) {\n        return e[r];\n      }.bind(null, n));\n      return o;\n    }, t.n = function (e) {\n      var r = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return t.d(r, \"a\", r), r;\n    }, t.o = function (e, r) {\n      return Object.prototype.hasOwnProperty.call(e, r);\n    }, t.p = \"\", t(t.s = 20);\n  }([function (r, t) {\n    r.exports = e;\n  }, function (e, t) {\n    e.exports = r;\n  }, function (e, r) {\n    e.exports = t;\n  }, function (e, r) {\n    e.exports = o;\n  }, function (e, r) {\n    e.exports = n;\n  }, function (e, r) {\n    e.exports = s;\n  }, function (e, r) {\n    e.exports = i;\n  }, function (e, r) {\n    e.exports = a;\n  }, function (e, r) {\n    e.exports = c;\n  }, function (e, r) {\n    e.exports = u;\n  }, function (e, r) {\n    e.exports = l;\n  }, function (e, r) {\n    e.exports = d;\n  }, function (e, r) {\n    e.exports = f;\n  }, function (e, r) {\n    e.exports = p;\n  }, function (e, r) {\n    e.exports = m;\n  }, function (e, r) {\n    e.exports = v;\n  }, function (e, r) {\n    e.exports = b;\n  }, function (e, r) {\n    e.exports = h;\n  }, function (e, r) {\n    e.exports = y;\n  }, function (e, r) {\n    e.exports = g;\n  }, function (e, r, t) {\n    \"use strict\";\n\n    t.r(r);\n    t(2), t(3), t(4), t(10), t(11), t(5), t(12), t(13), t(6), t(7), t(14), t(15), t(8), t(16), t(9), t(17), t(18);\n    var o = t(0),\n        n = t.n(o),\n        s = t(1),\n        i = (t(19), {\n      neo4j: {\n        initialQuery: \"MATCH (n) WHERE exists(n.pagerank)\\n                        WITH (n), RAND() AS random\\n                        ORDER BY random LIMIT 3000\\n                        OPTIONAL MATCH (n)-[r]-(m)\\n                        //WITH n,r,m WHERE exists(n.pagerank) AND exists(m.pagerank) AND exists(m.community)\\n                        RETURN n, r, m;\",\n        neo4jUri: \"bolt://localhost:7687\",\n        neo4jUser: \"neo4j\",\n        neo4jPassword: \"neo4j\",\n        encrypted: \"ENCRYPTION_OFF\",\n        trust: \"TRUST_ALL_CERTIFICATES\"\n      },\n      visjs: {\n        interaction: {\n          hover: !0,\n          hoverConnectedEdges: !0,\n          selectConnectedEdges: !1,\n          multiselect: \"alwaysOn\",\n          zoomView: !1,\n          experimental: {}\n        },\n        physics: {\n          barnesHut: {\n            damping: .1\n          }\n        },\n        nodes: {\n          mass: 4,\n          shape: \"neo\",\n          labelHighlightBold: !1,\n          widthConstraint: {\n            maximum: 40\n          },\n          heightConstraint: {\n            maximum: 40\n          }\n        },\n        edges: {\n          hoverWidth: 0,\n          selectionWidth: 0,\n          smooth: {\n            type: \"continuous\",\n            roundness: .15\n          },\n          font: {\n            size: 9,\n            strokeWidth: 0,\n            align: \"top\"\n          },\n          color: {\n            inherit: !1\n          },\n          arrows: {\n            to: {\n              enabled: !0,\n              type: \"arrow\",\n              scaleFactor: .5\n            }\n          }\n        }\n      }\n    });\n\n    function a(e, r) {\n      for (var t = 0; t < r.length; t++) {\n        var o = r[t];\n        o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n      }\n    }\n\n    var c = \"completed\",\n        u = function () {\n      function e() {\n        var r, t, o;\n        !function (e, r) {\n          if (!(e instanceof r)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this._handlers = (o = [], (t = c) in (r = {}) ? Object.defineProperty(r, t, {\n          value: o,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : r[t] = o, r);\n      }\n\n      var r, t, o;\n      return r = e, (t = [{\n        key: \"register\",\n        value: function (e, r) {\n          if (void 0 === this._handlers[e]) throw new Error(\"Unknown event: \" + e);\n\n          this._handlers[e].push(r);\n        }\n      }, {\n        key: \"generateEvent\",\n        value: function (e, r) {\n          if (void 0 === this._handlers[e]) throw new Error(\"Unknown event: \" + e);\n          var t = !0,\n              o = !1,\n              n = void 0;\n\n          try {\n            for (var s, i = this._handlers[e][Symbol.iterator](); !(t = (s = i.next()).done); t = !0) {\n              (0, s.value)(r);\n            }\n          } catch (e) {\n            o = !0, n = e;\n          } finally {\n            try {\n              t || null == i.return || i.return();\n            } finally {\n              if (o) throw n;\n            }\n          }\n        }\n      }]) && a(r.prototype, t), o && a(r, o), e;\n    }();\n\n    function l(e) {\n      return (l = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function d(e, r, t, o, n, s, i) {\n      try {\n        var a = e[s](i),\n            c = a.value;\n      } catch (e) {\n        return void t(e);\n      }\n\n      a.done ? r(c) : Promise.resolve(c).then(o, n);\n    }\n\n    function f(e) {\n      return function () {\n        var r = this,\n            t = arguments;\n        return new Promise(function (o, n) {\n          var s = e.apply(r, t);\n\n          function i(e) {\n            d(s, o, n, i, a, \"next\", e);\n          }\n\n          function a(e) {\n            d(s, o, n, i, a, \"throw\", e);\n          }\n\n          i(void 0);\n        });\n      };\n    }\n\n    function p(e, r) {\n      for (var t = 0; t < r.length; t++) {\n        var o = r[t];\n        o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n      }\n    }\n\n    function m(e, r, t) {\n      return r in e ? Object.defineProperty(e, r, {\n        value: t,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[r] = t, e;\n    }\n\n    t.d(r, \"default\", function () {\n      return v;\n    });\n\n    var v = function () {\n      function e(r) {\n        !function (e, r) {\n          if (!(e instanceof r)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), m(this, \"_nodes\", {}), m(this, \"_edges\", {}), m(this, \"_data\", {}), m(this, \"_network\", null), m(this, \"_events\", new u()), this._init(r), this._consoleLog(r), this._consoleLog(i);\n      }\n\n      var r, t, o;\n      return r = e, (t = [{\n        key: \"_consoleLog\",\n        value: function (e) {\n          var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"log\";\n          this._config.console_debug && console[r](e);\n        }\n      }, {\n        key: \"_init\",\n        value: function (e) {\n          this._config = e, this._encrypted = e.encrypted || i.neo4j.encrypted, this._trust = e.trust || i.neo4j.trust, this._driver = n.a.driver(e.server_url || i.neo4j.neo4jUri, n.a.auth.basic(e.server_user || i.neo4j.neo4jUser, e.server_password || i.neo4j.neo4jPassword), {\n            encrypted: this._encrypted,\n            trust: this._trust\n          }), this._query = e.initial_cypher || i.neo4j.initialQuery, this._container = document.getElementById(e.container_id);\n        }\n      }, {\n        key: \"_addNode\",\n        value: function (e) {\n          this._nodes[e.id] = e;\n        }\n      }, {\n        key: \"_addEdge\",\n        value: function (e) {\n          this._edges[e.id] = e;\n        }\n      }, {\n        key: \"buildNodeVisObject\",\n        value: function () {\n          var e = f(_regeneratorRuntime.mark(function e(r) {\n            var t, o, s, i, a, c, u, d, f, p, m, v, b, h, y, g;\n            return _regeneratorRuntime.wrap(function (e) {\n              for (;;) switch (e.prev = e.next) {\n                case 0:\n                  if (t = {}, o = r.labels[0], s = this._config && this._config.labels && this._config.labels[o], i = s && s.caption, a = s && s.size, c = s && s.sizeCypher, u = s && s.community, t.id = r.identity.toInt(), !c) {\n                    e.next = 34;\n                    break;\n                  }\n\n                  return d = this._driver.session(), e.next = 12, d.run(c, {\n                    id: n.a.int(t.id)\n                  });\n\n                case 12:\n                  for (f = e.sent, p = !0, m = !1, v = void 0, e.prev = 16, b = f.records[Symbol.iterator](); !(p = (h = b.next()).done); p = !0) h.value.forEach(function (e) {\n                    \"number\" == typeof e ? t.value = e : n.a.isInt(e) && (t.value = e.toNumber());\n                  });\n\n                  e.next = 24;\n                  break;\n\n                case 20:\n                  e.prev = 20, e.t0 = e.catch(16), m = !0, v = e.t0;\n\n                case 24:\n                  e.prev = 24, e.prev = 25, p || null == b.return || b.return();\n\n                case 27:\n                  if (e.prev = 27, !m) {\n                    e.next = 30;\n                    break;\n                  }\n\n                  throw v;\n\n                case 30:\n                  return e.finish(27);\n\n                case 31:\n                  return e.finish(24);\n\n                case 32:\n                  e.next = 35;\n                  break;\n\n                case 34:\n                  \"number\" == typeof a ? t.value = a : (y = r.properties[a]) && \"number\" == typeof y ? t.value = y : y && \"object\" === l(y) && n.a.isInt(y) && y.inSafeRange() ? t.value = y.toNumber() : t.value = 1;\n\n                case 35:\n                  if (t.label = \"function\" == typeof i ? i(r) : r.properties[i] || o || \"\", u) try {\n                    r.properties[u] ? t.group = r.properties[u].toNumber() || o || 0 : t.group = 0;\n                  } catch (e) {\n                    t.group = 0;\n                  } else t.group = o;\n\n                  for (g in t.title = \"\", r.properties) r.properties.hasOwnProperty(g) && (t.title += \"<strong>\".concat(g, \":</strong> \").concat(r.properties[g], \"<br>\"));\n\n                  return e.abrupt(\"return\", t);\n\n                case 40:\n                case \"end\":\n                  return e.stop();\n              }\n            }, e, this, [[16, 20, 24, 32], [25,, 27, 31]]);\n          }));\n          return function (r) {\n            return e.apply(this, arguments);\n          };\n        }()\n      }, {\n        key: \"buildEdgeVisObject\",\n        value: function (e) {\n          var r = this._config && this._config.relationships && this._config.relationships[e.type],\n              t = r && r.thickness,\n              o = r && r.caption,\n              n = {};\n\n          for (var s in n.id = e.identity.toInt(), n.from = e.start.toInt(), n.to = e.end.toInt(), n.title = \"\", e.properties) e.properties.hasOwnProperty(s) && (n.title += \"<strong>\".concat(s, \":</strong> \").concat(e.properties[s], \"<br>\"));\n\n          return n.value = t && \"string\" == typeof t ? e.properties[t] : t && \"number\" == typeof t ? t : 1, n.label = \"boolean\" == typeof o ? o ? e.type : \"\" : o && \"string\" == typeof o ? e.properties[o] || \"\" : e.type, n;\n        }\n      }, {\n        key: \"render\",\n        value: function () {\n          var e = this,\n              r = 0,\n              t = this._driver.session(),\n              o = [];\n\n          t.run(this._query, {\n            limit: 30\n          }).subscribe({\n            onNext: function (t) {\n              r++, e._consoleLog(\"CLASS NAME\"), e._consoleLog(t.constructor.name), e._consoleLog(t);\n              var s = Object.values(t.toObject()).map(function () {\n                var r = f(_regeneratorRuntime.mark(function r(t) {\n                  var o, s, i, a, c, u, l, d, f, p, m, v, b, h, y, g, j, _;\n\n                  return _regeneratorRuntime.wrap(function (r) {\n                    for (;;) switch (r.prev = r.next) {\n                      case 0:\n                        if (e._consoleLog(\"Constructor:\"), e._consoleLog(t.constructor.name), !(t instanceof n.a.types.Node)) {\n                          r.next = 9;\n                          break;\n                        }\n\n                        return r.next = 5, e.buildNodeVisObject(t);\n\n                      case 5:\n                        o = r.sent;\n\n                        try {\n                          e._addNode(o);\n                        } catch (r) {\n                          e._consoleLog(r, \"error\");\n                        }\n\n                        r.next = 97;\n                        break;\n\n                      case 9:\n                        if (!(t instanceof n.a.types.Relationship)) {\n                          r.next = 14;\n                          break;\n                        }\n\n                        s = e.buildEdgeVisObject(t), e._addEdge(s), r.next = 97;\n                        break;\n\n                      case 14:\n                        if (!(t instanceof n.a.types.Path)) {\n                          r.next = 62;\n                          break;\n                        }\n\n                        return e._consoleLog(\"PATH\"), e._consoleLog(t), r.next = 19, e.buildNodeVisObject(t.start);\n\n                      case 19:\n                        return i = r.sent, r.next = 22, e.buildNodeVisObject(t.end);\n\n                      case 22:\n                        a = r.sent, e._addNode(i), e._addNode(a), c = !0, u = !1, l = void 0, r.prev = 28, d = t.segments[Symbol.iterator]();\n\n                      case 30:\n                        if (c = (f = d.next()).done) {\n                          r.next = 46;\n                          break;\n                        }\n\n                        return p = f.value, r.t0 = e, r.next = 35, e.buildNodeVisObject(p.start);\n\n                      case 35:\n                        return r.t1 = r.sent, r.t0._addNode.call(r.t0, r.t1), r.t2 = e, r.next = 40, e.buildNodeVisObject(p.end);\n\n                      case 40:\n                        r.t3 = r.sent, r.t2._addNode.call(r.t2, r.t3), e._addEdge(e.buildEdgeVisObject(p.relationship));\n\n                      case 43:\n                        c = !0, r.next = 30;\n                        break;\n\n                      case 46:\n                        r.next = 52;\n                        break;\n\n                      case 48:\n                        r.prev = 48, r.t4 = r.catch(28), u = !0, l = r.t4;\n\n                      case 52:\n                        r.prev = 52, r.prev = 53, c || null == d.return || d.return();\n\n                      case 55:\n                        if (r.prev = 55, !u) {\n                          r.next = 58;\n                          break;\n                        }\n\n                        throw l;\n\n                      case 58:\n                        return r.finish(55);\n\n                      case 59:\n                        return r.finish(52);\n\n                      case 60:\n                        r.next = 97;\n                        break;\n\n                      case 62:\n                        if (!(t instanceof Array)) {\n                          r.next = 97;\n                          break;\n                        }\n\n                        m = !0, v = !1, b = void 0, r.prev = 66, h = t[Symbol.iterator]();\n\n                      case 68:\n                        if (m = (y = h.next()).done) {\n                          r.next = 83;\n                          break;\n                        }\n\n                        if (g = y.value, e._consoleLog(\"Array element constructor:\"), e._consoleLog(g.constructor.name), !(g instanceof n.a.types.Node)) {\n                          r.next = 79;\n                          break;\n                        }\n\n                        return r.next = 75, e.buildNodeVisObject(g);\n\n                      case 75:\n                        j = r.sent, e._addNode(j), r.next = 80;\n                        break;\n\n                      case 79:\n                        g instanceof n.a.types.Relationship && (_ = e.buildEdgeVisObject(g), e._addEdge(_));\n\n                      case 80:\n                        m = !0, r.next = 68;\n                        break;\n\n                      case 83:\n                        r.next = 89;\n                        break;\n\n                      case 85:\n                        r.prev = 85, r.t5 = r.catch(66), v = !0, b = r.t5;\n\n                      case 89:\n                        r.prev = 89, r.prev = 90, m || null == h.return || h.return();\n\n                      case 92:\n                        if (r.prev = 92, !v) {\n                          r.next = 95;\n                          break;\n                        }\n\n                        throw b;\n\n                      case 95:\n                        return r.finish(92);\n\n                      case 96:\n                        return r.finish(89);\n\n                      case 97:\n                      case \"end\":\n                        return r.stop();\n                    }\n                  }, r, null, [[28, 48, 52, 60], [53,, 55, 59], [66, 85, 89, 97], [90,, 92, 96]]);\n                }));\n                return function (e) {\n                  return r.apply(this, arguments);\n                };\n              }());\n              o.push(Promise.all(s));\n            },\n            onCompleted: function () {\n              var n = f(_regeneratorRuntime.mark(function n() {\n                var i, a;\n                return _regeneratorRuntime.wrap(function (n) {\n                  for (;;) switch (n.prev = n.next) {\n                    case 0:\n                      return n.next = 2, Promise.all(o);\n\n                    case 2:\n                      t.close(), i = {\n                        nodes: {\n                          shape: \"dot\",\n                          font: {\n                            size: 26,\n                            strokeWidth: 7\n                          },\n                          scaling: {\n                            label: {\n                              enabled: !0\n                            }\n                          }\n                        },\n                        edges: {\n                          arrows: {\n                            to: {\n                              enabled: e._config.arrows || !1\n                            }\n                          },\n                          length: 200\n                        },\n                        layout: {\n                          improvedLayout: !1,\n                          hierarchical: {\n                            enabled: e._config.hierarchical || !1,\n                            sortMethod: e._config.hierarchical_sort_method || \"hubsize\"\n                          }\n                        },\n                        physics: {\n                          adaptiveTimestep: !0,\n                          stabilization: {\n                            iterations: 200,\n                            fit: !0\n                          }\n                        }\n                      }, a = e._container, e._data = {\n                        nodes: new s.DataSet(Object.values(e._nodes)),\n                        edges: new s.DataSet(Object.values(e._edges))\n                      }, e._consoleLog(e._data.nodes), e._consoleLog(e._data.edges), e._network = new s.Network(a, e._data, i), e._consoleLog(\"completed\"), setTimeout(function () {\n                        e._network.stopSimulation();\n                      }, 1e4), e._events.generateEvent(c, {\n                        record_count: r\n                      });\n\n                    case 12:\n                    case \"end\":\n                      return n.stop();\n                  }\n                }, n);\n              }));\n              return function () {\n                return n.apply(this, arguments);\n              };\n            }(),\n            onError: function (r) {\n              e._consoleLog(r);\n            }\n          });\n        }\n      }, {\n        key: \"clearNetwork\",\n        value: function () {\n          this._nodes = {}, this._edges = {}, this._network.setData([]);\n        }\n      }, {\n        key: \"registerOnEvent\",\n        value: function (e, r) {\n          this._events.register(e, r);\n        }\n      }, {\n        key: \"reinit\",\n        value: function (e) {\n          this._init(e), this.render();\n        }\n      }, {\n        key: \"reload\",\n        value: function () {\n          this.clearNetwork(), this.render();\n        }\n      }, {\n        key: \"stabilize\",\n        value: function () {\n          this._network.stopSimulation(), this._consoleLog(\"Calling stopSimulation\");\n        }\n      }, {\n        key: \"renderWithCypher\",\n        value: function (e) {\n          this.clearNetwork(), this._query = e, this.render();\n        }\n      }]) && p(r.prototype, t), o && p(r, o), e;\n    }();\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}