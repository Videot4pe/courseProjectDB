{"ast":null,"code":"var _jsxFileName = \"/Users/garanya/Desktop/dbcourse/courseProjectDB/front/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport ReactDOM from \"react-dom\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.callInit = async () => {\n      var response = await fetch('/init');\n      var body = await response.json();\n      this.state.cities = body;\n      var firstbox = document.getElementById('first');\n      var secondbox = document.getElementById('second');\n\n      for (var i = 0; i < this.state.cities.length; i++) {\n        var option = this.state.cities[i];\n        console.log(typeof this.state.cities[i]);\n        firstbox.options.add(new Option(option, i));\n        secondbox.options.add(new Option(option, i));\n      }\n    };\n\n    this.searchThis = async () => {\n      const response = await fetch('/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          cities: {\n            firstCity: this.state.firstCity,\n            secondCity: this.state.secondCity\n          }\n        })\n      });\n      const body = await response.json();\n      this.state.resultDist = \"Result distance: \" + body + \" km\";\n      this.forceUpdate();\n    };\n\n    this.addCity = async () => {\n      const response = await fetch('/add_city', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: this.state.add\n        })\n      });\n      this.callInit();\n      this.forceUpdate();\n    };\n\n    this.addRel = async () => {\n      this.state.firstCity = this.state.cities[document.getElementById(\"first\").value];\n      this.state.secondCity = this.state.cities[document.getElementById(\"second\").value];\n      const response = await fetch('/add_rel', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          firstCity: this.state.firstCity,\n          secondCity: this.state.secondCity,\n          dist: this.state.addRel\n        })\n      });\n    };\n\n    this.state = {\n      showComponent: false,\n      data: null,\n      firstCity: \"\",\n      secondCity: \"\",\n      resultWay: \"\",\n      resultDist: \"Result distance: \",\n      cities: [],\n      add: \"\",\n      addRel: \"\"\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.callInit);\n  }\n\n  search(event) {\n    this.state.firstCity = this.state.cities[document.getElementById(\"first\").value];\n    this.state.secondCity = this.state.cities[document.getElementById(\"second\").value];\n    this.searchThis();\n    this.forceUpdate();\n  }\n\n  addText(event) {\n    this.state.add = event.target.value;\n    this.forceUpdate();\n  }\n\n  addRelText(event) {\n    this.state.addRel = event.target.value;\n    this.forceUpdate();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"jumbotron text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"My First Bootstrap Page\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Resize this responsive page to see the effect!\")), React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Column 1\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Lorem ipsum dolor..\")), React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Column 2\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Lorem ipsum dolor..\")), React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Column 3\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Lorem ipsum dolor..\"))))) // <div className=\"App\">\n    //   <span> From </span> <select id=\"first\"></select> <span> to </span> <select id=\"second\"></select>\n    //   <br /><br /><button onClick={this.search.bind(this)}>Search</button>\n    //   <br /><br /><input type=\"text\" id=\"addCity\" onChange={this.addText.bind(this)} />\n    //   <button onClick={this.addCity.bind()}>Add city</button>\n    //   <input type=\"text\" id=\"addRel\" onChange={this.addRelText.bind(this)} />\n    //   <button onClick={this.addRel.bind()}>Add relation</button>\n    //   <p className=\"App-intro\">{this.state.resultDist}</p>\n    //   {/* <header className=\"App-header\">\n    //     <img src={logo} className=\"App-logo\" alt=\"logo\" />\n    //     <h1 className=\"App-title\">Welcome to React</h1>\n    //   </header> */}\n    // </div>\n    ;\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/garanya/Desktop/dbcourse/courseProjectDB/front/src/App.js"],"names":["React","Component","ReactDOM","App","constructor","props","callInit","response","fetch","body","json","state","cities","firstbox","document","getElementById","secondbox","i","length","option","console","log","options","add","Option","searchThis","method","headers","JSON","stringify","firstCity","secondCity","resultDist","forceUpdate","addCity","name","addRel","value","dist","showComponent","data","resultWay","componentDidMount","window","addEventListener","search","event","addText","target","addRelText","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport ReactDOM from \"react-dom\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showComponent: false,\n      data: null,\n      firstCity: \"\",\n      secondCity: \"\",\n      resultWay: \"\",\n      resultDist: \"Result distance: \",\n      cities: [],\n      add: \"\",\n      addRel: \"\",\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.callInit);\n  }\n\n  callInit = async () => {\n    var response = await fetch('/init')\n    var body = await response.json();\n    this.state.cities = body;\n\n    var firstbox = document.getElementById('first');\n    var secondbox = document.getElementById('second');\n\n    for(var i = 0; i < this.state.cities.length; i++){\n      var option = this.state.cities[i];\n      console.log(typeof this.state.cities[i]);\n      firstbox.options.add(new Option(option, i) );\n      secondbox.options.add(new Option(option, i) );\n    }\n  };\n\n  searchThis = async () => {\n    const response = await fetch('/', {\n    method: 'POST',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n        cities: {\n            firstCity: this.state.firstCity,\n            secondCity: this.state.secondCity\n        }\n      })\n    });\n    const body = await response.json();\n    this.state.resultDist = \"Result distance: \" + body + \" km\";\n    this.forceUpdate();\n  };\n\n  search(event) {\n    this.state.firstCity = this.state.cities[document.getElementById(\"first\").value]; \n    this.state.secondCity = this.state.cities[document.getElementById(\"second\").value]; \n\n    this.searchThis();    \n    this.forceUpdate();\n  }\n\n  addCity = async () => {\n    const response = await fetch('/add_city', {\n    method: 'POST',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n        name: this.state.add\n      })\n    });\n    this.callInit();\n    this.forceUpdate();\n  }\n\n  addText(event) {\n    this.state.add = event.target.value;\n    this.forceUpdate();\n  }\n\n  addRel = async () => {\n    this.state.firstCity = this.state.cities[document.getElementById(\"first\").value]; \n    this.state.secondCity = this.state.cities[document.getElementById(\"second\").value]; \n\n    const response = await fetch('/add_rel', {\n    method: 'POST',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n        firstCity: this.state.firstCity,\n        secondCity: this.state.secondCity,\n        dist: this.state.addRel\n      })\n    });\n  }\n\n  addRelText(event) {\n    this.state.addRel = event.target.value;\n    this.forceUpdate();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div class=\"jumbotron text-center\">\n          <h1>My First Bootstrap Page</h1>\n          <p>Resize this responsive page to see the effect!</p>\n        </div>\n\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <h3>Column 1</h3>\n              <p>Lorem ipsum dolor..</p>\n            </div>\n            <div class=\"col-sm-4\">\n              <h3>Column 2</h3>\n              <p>Lorem ipsum dolor..</p>\n            </div>\n            <div class=\"col-sm-4\">\n              <h3>Column 3</h3>\n              <p>Lorem ipsum dolor..</p>\n            </div>\n          </div>\n        </div> \n       </div>\n      // <div className=\"App\">\n\n      //   <span> From </span> <select id=\"first\"></select> <span> to </span> <select id=\"second\"></select>\n\n      //   <br /><br /><button onClick={this.search.bind(this)}>Search</button>\n\n      //   <br /><br /><input type=\"text\" id=\"addCity\" onChange={this.addText.bind(this)} />\n      //   <button onClick={this.addCity.bind()}>Add city</button>\n\n      //   <input type=\"text\" id=\"addRel\" onChange={this.addRelText.bind(this)} />\n      //   <button onClick={this.addRel.bind()}>Add relation</button>\n\n      //   <p className=\"App-intro\">{this.state.resultDist}</p>\n\n      //   {/* <header className=\"App-header\">\n      //     <img src={logo} className=\"App-logo\" alt=\"logo\" />\n      //     <h1 className=\"App-title\">Welcome to React</h1>\n      //   </header> */}\n      // </div>\n\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}